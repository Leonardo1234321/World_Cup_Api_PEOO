# RESOLUÇÃO DA QUESTÃO 3

> 3\. Fazer uma requisição para a API e exibir todos os jogos de uma equipe específica.

## Criação do aba de seleção de um time

Primeiro, definimos uma marca select no documento html onde serão colocados as opções:

```html linenums="34"
<select id="equipe" onchange="buscarJogos()">
        <option value="">Selecione um time...</option>
```

Em seguida, a parte do script onde será colocado as opções, para isso foi necessário fazer uma requisição ```GET``` da API com os times.

```js linenums="1" hl_lines="17"
const url_teams = 'https://worldcupjson.net/teams' //URL dos times

fetch(url_teams) //Pegar as info da URL Times
    .then(response => response.json())
    .then(teams => todostimes(teams))

function todostimes(teams){

    let equipes = document.getElementById('equipe') 

    for (let team of teams['groups']){ //Percorrer a lista

        for (let country of team.teams){ //Percorrer a lista dentro da lista para pegar o nomes dos times

                let opção = new Option(country.name, country.name) //adicionar opção
                console.log(country.name)
                equipes.options[equipes.options.length] = opção
        }
    }
}
```
```mermaid
flowchart LR
    API --> (Fetch API)
    Fetch(API) 
```
> Detalhe importante: Na linha 17, usa-se uma atribuição direta no options, o método push não é possível, pois o ```select.options``` é um prototype HTMLOptionsCollection  e não um Prototype Array. Outra solução possível é usar o método add, inerente aos Objects.  
  
## Exibição dos jogos

Depois de criarmos a tabela de seleção e suas opções (times), criamos uma função que exibe o jogo na página HTML, sua execução depende da propriedade ```onchange``` do Select.

